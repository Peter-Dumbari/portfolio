{"version":3,"sources":["../lib/BackToTop.jsx"],"names":["BackToTop","props","state","percent","current","animate","mainStyle","percentStyle","offsetTop","step","visiblePercent","isPercent","undefined","window","onscroll","setState","children","visible","animateHide","animateShow","console","log","scrollToTop","Array","isArray","map","child","index","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { getScrollPercent, getScrollTop, ScrollToAnimate } from './utils';\r\nimport './BackToTop.css';\r\n\r\nclass BackToTop extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      percent: 0,\r\n      current: 0\r\n    };\r\n    this.animate =\r\n      this.props.animate || 'fade'; /**1、fade(default) 2、rotate 3、none */\r\n    this.mainStyle = this.props.mainStyle || {};\r\n    this.percentStyle = this.props.percentStyle || {};\r\n    this.offsetTop = this.props.offsetTop || 0;\r\n    this.step = this.props.step || 50;\r\n    this.visiblePercent =\r\n      this.props.visiblePercent > 0 ? this.props.visiblePercent : 1;\r\n    this.isPercent =\r\n      this.props.isPercent === undefined ? true : this.props.isPercent;\r\n  }\r\n  scrollToTop() {\r\n    ScrollToAnimate(this.props.offsetTop, this.props.step, this.state.current);\r\n  }\r\n  componentDidMount() {\r\n    if (window) {\r\n      window.onscroll = () => {\r\n        this.setState({\r\n          percent: getScrollPercent(this.props.offsetTop),\r\n          current: getScrollTop()\r\n        });\r\n        // this.setState({ current: getScrollTop() });\r\n      };\r\n    }\r\n  }\r\n  render() {\r\n    const { animate, children } = this.props;\r\n    let visible = this.state.percent >= this.visiblePercent;\r\n    let animateHide = 'c-animate-hide';\r\n    let animateShow = 'c-animate-show';\r\n    if (animate !== 'fade' && animate !== 'rotate') {\r\n      if (animate !== 'none') {\r\n        animateHide = 'fade-hide';\r\n        animateShow = 'fade-show';\r\n      }\r\n    } else {\r\n      animateHide = animate + '-hide';\r\n      animateShow = animate + '-show';\r\n    }\r\n    console.log('asdasd', this.props, this.props.children);\r\n    return (\r\n      <div\r\n        onClick={() => this.scrollToTop()}\r\n        className={'base-back-to-up ' + (visible ? animateShow : animateHide)}\r\n      >\r\n        {/* <Icon type=\"up-square\" className=\"to-top-icon\" /> */}\r\n        <div className=\"back-to-up-default\" style={this.mainStyle}>\r\n          {children ? (\r\n            Array.isArray(children) ? (\r\n              children.map(child, index => {\r\n                return <div key={index}>{child}</div>;\r\n              })\r\n            ) : (\r\n              children && <div>{children}</div>\r\n            )\r\n          ) : (\r\n            <div className=\"back-to-up-default-text\">\r\n              <span>UP</span>\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            className={\r\n              'to-up-percent' + (this.isPercent ? '' : ' percent-hide')\r\n            }\r\n            style={this.percentStyle}\r\n          >\r\n            {this.state.percent + '%'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BackToTop;\r\n"],"file":"BackToTop.js"}